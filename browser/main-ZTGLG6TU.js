import{g as j,i as L,k as x,l as V}from"./chunk-7UGYIN64.js";import{C as l,J as f,M as d,Mb as F,N as R,O as S,Pa as A,R as I,Rb as W,S as M,T as v,U as k,Va as N,Ya as _,_a as O,a as D,ba as P,f as w,i as E,lb as U,r as u,x as p,y}from"./chunk-ZANWRL3T.js";var B=[{path:"",loadComponent:()=>import("./chunk-JBK6HRIG.js").then(r=>r.HomeMainComponent)},{path:"fish-engine",loadComponent:()=>import("./chunk-XX72M4SM.js").then(r=>r.FishEngineMainComponent)},{path:"**",redirectTo:""}];var T="Service workers are disabled or not supported by this browser",h=class{serviceWorker;worker;registration;events;constructor(i,t){if(this.serviceWorker=i,!i)this.worker=this.events=this.registration=new w(n=>n.error(new d(5601,!1)));else{let n=null,e=new E;this.worker=new w(a=>(n!==null&&a.next(n),e.subscribe(b=>a.next(b))));let s=()=>{let{controller:a}=i;a!==null&&(n=a,e.next(n))};i.addEventListener("controllerchange",s),s(),this.registration=this.worker.pipe(f(()=>i.getRegistration().then(a=>{if(!a)throw new d(5601,!1);return a})));let o=new E;this.events=o.asObservable();let c=a=>{let{data:b}=a;b?.type&&o.next(b)};i.addEventListener("message",c),t?.get(O,null,{optional:!0})?.onDestroy(()=>{i.removeEventListener("controllerchange",s),i.removeEventListener("message",c)})}}postMessage(i,t){return new Promise(n=>{this.worker.pipe(l(1)).subscribe(e=>{e.postMessage(D({action:i},t)),n()})})}postMessageWithOperation(i,t,n){let e=this.waitForOperationCompleted(n),s=this.postMessage(i,t);return Promise.all([s,e]).then(([,o])=>o)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(i){let t;return typeof i=="string"?t=n=>n.type===i:t=n=>i.includes(n.type),this.events.pipe(y(t))}nextEventOfType(i){return this.eventsOfType(i).pipe(l(1))}waitForOperationCompleted(i){return new Promise((t,n)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(y(e=>e.nonce===i),l(1),u(e=>{if(e.result!==void 0)return e.result;throw new Error(e.error)})).subscribe({next:t,error:n})})}get isEnabled(){return!!this.serviceWorker}},q=(()=>{class r{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new E;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=p,this.notificationClicks=p,this.notificationCloses=p,this.pushSubscriptionChanges=p,this.subscription=p;return}this.messages=this.sw.eventsOfType("PUSH").pipe(u(e=>e.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(u(e=>e.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(u(e=>e.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(u(e=>e.data)),this.pushManager=this.sw.registration.pipe(u(e=>e.pushManager));let n=this.pushManager.pipe(f(e=>e.getSubscription()));this.subscription=new w(e=>{let s=n.subscribe(e),o=this.subscriptionChanges.subscribe(e);return()=>{s.unsubscribe(),o.unsubscribe()}})}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(T));let n={userVisibleOnly:!0},e=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(e.length));for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return n.applicationServerKey=s,new Promise((o,c)=>{this.pushManager.pipe(f(g=>g.subscribe(n)),l(1)).subscribe({next:g=>{this.subscriptionChanges.next(g),o(g)},error:c})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(T));let t=n=>{if(n===null)throw new d(5602,!1);return n.unsubscribe().then(e=>{if(!e)throw new d(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((n,e)=>{this.subscription.pipe(l(1),f(t)).subscribe({next:n,error:e})})}decodeBase64(t){return atob(t)}static \u0275fac=function(n){return new(n||r)(M(h))};static \u0275prov=S({token:r,factory:r.\u0275fac})}return r})(),Y=(()=>{class r{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=p,this.unrecoverable=p;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED","VERSION_FAILED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(T));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let t=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new d(5601,!1));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(n){return new(n||r)(M(h))};static \u0275prov=S({token:r,factory:r.\u0275fac})}return r})();var K=new I("");function $(){let r=v(m);if(!("serviceWorker"in navigator&&r.enabled!==!1))return;let i=v(K),t=v(N),n=v(O);t.runOutsideAngular(()=>{let e=navigator.serviceWorker,s=()=>e.controller?.postMessage({action:"INITIALIZE"});e.addEventListener("controllerchange",s),n.onDestroy(()=>{e.removeEventListener("controllerchange",s)})}),t.runOutsideAngular(()=>{let e,{registrationStrategy:s}=r;if(typeof s=="function")e=new Promise(o=>s().subscribe(()=>o()));else{let[o,...c]=(s||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":e=Promise.resolve();break;case"registerWithDelay":e=H(+c[0]||0);break;case"registerWhenStable":e=Promise.race([n.whenStable(),H(+c[0])]);break;default:throw new d(5600,!1)}}e.then(()=>{n.destroyed||navigator.serviceWorker.register(i,{scope:r.scope,updateViaCache:r.updateViaCache,type:r.type}).catch(o=>console.error(R(5604,!1)))})})}function H(r){return new Promise(i=>setTimeout(i,r))}function J(r,i){return new h(r.enabled!==!1?navigator.serviceWorker:void 0,i)}var m=class{enabled;updateViaCache;type;scope;registrationStrategy};function Z(r,i={}){return k([q,Y,{provide:K,useValue:r},{provide:m,useValue:i},{provide:h,useFactory:J,deps:[m,P]},_($)])}var G={providers:[F({eventCoalescing:!0}),V(B),L(),Z("ngsw-worker.js",{enabled:!W(),registrationStrategy:"registerWhenStable:30000"})]};var C=class r{title="portfolio-app";static \u0275fac=function(t){return new(t||r)};static \u0275cmp=A({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(t,n){t&1&&U(0,"router-outlet")},dependencies:[x],encapsulation:2})};j(C,G).catch(()=>{});
